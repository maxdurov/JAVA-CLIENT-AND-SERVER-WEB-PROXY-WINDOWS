# JAVA-CLIENT-AND-SERVER-WEB-PROXY-WINDOWS

Прокси-сервер для Windows на Java.  
Имеет опциональный клиентский сервер и основной прокси. Написан на Java.

## License

[Apache-2.0](https://www.apache.org/licenses/LICENSE-2.0)

## Зависимости

- [JDK 21](https://download.oracle.com/java/21/latest/jdk-21_windows-x64_bin.exe)

## Installation

Необходимо загрузить архив и распаковать его в удобное для вас место.  
Если у вас нет установленной среды JDK, то перед запуском необходимо её установить.

## FAQ

### Запуск основного прокси-сервера

Найдите файл **"StartProxyServer.bat"** и запустите его (при необходимости отредактируйте под ваши нужды).  
Данный скрипт запускает прокси-сервер на порту **8080**.

Прокси имеет возможность гибкой настройки с помощью опциональных аргументов:

```sh
java -Xms4G -Xmx4G -classpath ./ org.webproxy.server.ServerProxy --help

--port [port] - порт для запуска прокси (по умолчанию: 8080)
--max-threads-pool [count] - максимальное количество потоков (по умолчанию: 60)
--help - показать это сообщение
```

После запуска в консольном окне будет отображаться статистика нагрузки на сервер:

```sh
ACTIVE THREADS: 1/60
IN LINE: 0
LOCAL PORT: 8080
```

### Запуск клиентского сервера (опционально)

Найдите файл **"StartClientSideServer.bat"** и запустите его (не забудьте указать удалённый прокси-сервер).  
Данный скрипт запускает клиентский сервер на порту **3000** и отправляет данные на локальный порт **8080**.

Клиентский сервер совместим с другими прокси, так как напрямую создаёт соединение.

Также он поддерживает гибкую настройку с помощью опциональных аргументов:

```sh
java -Xms4G -Xmx4G -classpath ./ org.webproxy.client.ClientProxy --help

--port [port] - порт для локального прокси (по умолчанию: 3000)
--remote-server [host]:[port] - адрес удалённого прокси-сервера (по умолчанию: localhost:8080)
--max-threads-pool [count] - максимальное количество потоков (по умолчанию: 60)
--help - показать это сообщение
```

После запуска в консоли будет отображаться статистика нагрузки на клиентский сервер:

```sh
ACTIVE THREADS: 1/60
IN LINE: 0
LOCAL PORT: 3000
REMOTE ADDRESS: 0.0.0.0/0.0.0.0:8080
```

## Рекомендации

- Если параметр **"IN LINE"** в течение длительного времени остаётся больше нуля, увеличьте максимальное количество потоков, добавив аргумент:  
  ```sh
  --max-threads-pool <число>
  ```

- Имейте в виду, что данный прокси **не тестировался** на стабильность работы при высокой нагрузке, поэтому используйте его **только для личных целей**.

- При использовании клиентского сервера желательно указывать одинаковое максимальное количество потоков для прокси-сервера и клиентского сервера.
